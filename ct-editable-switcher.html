<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="../iron-validatable-behavior/iron-validatable-behavior.html">
<link rel="import" href="../paper-input/paper-input-error.html">

<!--
`ct-editable-switcher`
Element to switch between view/edit modes for form inputs on the Centular platform

@demo demo/index.html
-->

<dom-module id="ct-editable-switcher">
  <template>
    <style>
      :host {
        display: block;
        width: 100%;
      }



    </style>

    <div hidden$="[[editMode]]">
      <div class="floated-label-placeholder style-scope paper-input-container" aria-hidden="true">[[labelVal]]</div>
      <div>[[inputVal]]</div>
    </div>

    <div hidden$="[[!editMode]]">
      <content  id="input"></content>
    </div>








  </template>

  <script>
      Polymer({

          is: 'ct-editable-switcher',

          behaviors: [
              Polymer.IronFormElementBehavior,
              Polymer.IronValidatableBehavior
          ],

          properties: {
              inputVal : {
                  type: String,
                  value: "none"
              },

              labelVal : {
                  type: String,
                  value: "none"
              },

              editMode: {
                  type: Boolean,
                  value: function(){ return false }
              }
          },

          attached : function(){

              this.async(function(){
                  Polymer.dom(this.$.input).observeNodes(function(info) {
                      this.set('inputVal', info.addedNodes[1].value);
                      this.set('labelVal', info.addedNodes[1].label);
                  }.bind(this));
              })




          },





      });

  </script>
</dom-module>
